<div class="row card row-card" data-aos="zoom-in-down" cdkDropList (cdkDropListDropped)="drop($event)">
  <h1 class="header-product-description-title" data-aos="fade-down-left" >Best Reviews Optimization</h1>
  <div class="col-12 reviews-holder" *ngFor='let formField of formFields' cdkDrag  [cdkDragDisabled]="formField.enabled">
    <div class="card"  id="cardId-{{formField.formId}}" data-aos="fade-up-left">
      <div class="header-delete-button" *ngIf="formField.value.status == 'active'">
        <button mat-icon-button color="danger" aria-label="Delete Button" (click)="deleteReviewForm(formField.formId)">
          <mat-icon>delete</mat-icon>
        </button>
      </div>
      <div class="header-return-button" *ngIf="formField.value.status == 'deleted'">
        <button mat-icon-button  color="primary" aria-label="Delete Button" (click)="activeFormReview(formField.formId)">
          <mat-icon>reply</mat-icon>
        </button>
      </div>
      <div class="product-description-header" id="review-form-{{formField.formId}}" *ngIf='formField.value.status == "active"' (click)='disableDrag(formField.formId)' (focusout)='enableDrag(formField.formId)'>
        <div class="col-12">
          <mat-form-field appearance="fill" class="form-description-product-input">
            <mat-label>Pick An Option (Image Main)</mat-label>
            <mat-select  (selectionChange)="onChangeSelect($event.value,formField.formId)" class="select-option" [(value)]="formField.selectOption">
              <mat-option value="file">File</mat-option>
              <mat-option value="url" >Url</mat-option>
            </mat-select>
            <span class="error error-mat-select" >Please Select An Option</span>
          </mat-form-field>
        </div>
        <div class="col-12">
          <div class="form-description-product-input options-select field-file-review">
            <mat-label>Pick file</mat-label>
            <button (click)="openUploadFile(formField.formId)" mat-icon-button class="input-file-button" >
              <mat-icon id="icon-image-{{formField.formId}}">image</mat-icon>
              <img id="img-image-{{formField.formId}}" src='' class="image-preview">
             </button>
            <input accept="image/png, image/gif, image/jpeg" placeholder="file" type="file" class="file-input" style="display:none" (change)="selectedPreviewImage($event,formField.formId)">
            <span class="error input-file-error" >Please Put A File</span>
          </div>

        </div>
        <div class="col-12">
          <mat-form-field class="form-description-product-input options-select field-url-review">
            <mat-label>Enter Url</mat-label>
            <input matInput placeholder="url" value="{{formField.value.mainImgUrl}}" type="url" class="input-url" >
            <span class="error input-url-error">Please Enter  A Url</span>
          </mat-form-field>
        </div>



        <div class="col-12">
          <mat-form-field class="form-description-product-input" appearance="fill">
            <mat-label>Review Author</mat-label>
            <input matInput placeholder="Header" value="{{formField.value.authorReview}}" type="text" class="input-author">
            <span class="error input-author-error">Please Enter Author</span>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field class="form-description-product-input">
            <mat-label>Review Description</mat-label>
            <textarea matInput value="{{formField.value.descriptionReview}}" placeholder="This is a cool Product" rows="5" cols="40" class="input-review"></textarea>
            <span class="error input-review-description-error">Please Enter Review Description </span>
          </mat-form-field>
        </div>
        <div class="error file-error-upload">Error Uploading File </div>
        <div class="success file-success-upload">File Uploaded Successfully </div>
        <div class="success review-success-saved">Review Saved Successfully </div>
        <div class="error review-error-saved">Error While Saving Review  </div>
      </div>

    </div>
  </div>
  <div class="col-12 text-center add-more-button">
    <button mat-mini-fab color="primary" aria-label="Add Another Form" (click)="addAnotherForm()" >
      <mat-icon>add</mat-icon>
    </button>
  </div>

</div>

<button mat-fab color="primary" aria-label="Submit All Unsent Coupon" class="btn-sent-all" matTooltip="Submit Forms" (click)="submitForm()">
  <mat-icon>cloud_upload</mat-icon>
</button>

<button mat-fab color="success" aria-label="Submit All Unsent Coupon" class="btn-sent-all btn-view" matTooltip="Review Best Reviews" (click)="openGenerateBestReviews()">
  <mat-icon>remove_red_eye</mat-icon>
</button>
